/*
 *  lightsoff - v2.0.2
 *  jQuery-based plugin that provides a cinema-like experience while watching a video on a page
 *  https://github.com/migueldemoura/lightsoff
 *
 *  Made by Miguel de Moura
 *  Under MIT License
 */

!function(a,b,c,d){var e,f,g={color:"black",opacity:.95,zIndex:999,switchSelectors:[],durationLightsOff:400,durationLightsOn:400,allowScrolling:!0},h=a("body"),i=a("head"),j=[],k=!1,l={init:function(c){var d;for(e=a.extend(!0,{},g,c),this.each(function(){j.push(a(this))}),a("<style>.lightsOffOverlay {position: absolute;display: none;background: "+e.color+";opacity: "+e.opacity+";z-index: "+e.zIndex+";}</style>").appendTo(i),d=0;d<8;++d)a("<div />").attr({id:"lightsOffOverlay"+d,class:"lightsOffOverlay"}).appendTo(h);for(d=0;d<e.switchSelectors.length;++d)""!==e.switchSelectors[d]&&h.on("click",e.switchSelectors[d],{id:d},o);return h.on("click",".lightsOffOverlay",function(){l.hide.apply(f,arguments)}),a(b).on("resize",function(){var b=a(".lightsOffOverlay");b.is(":visible")&&(b.hide(),m(f),b.show())}),k=!0,this},show:function(){return m(this),n(this,!0),this},hide:function(){return n(this,!1),this}},m=function(b){for(var d=b.offset(),e=a(c),f=b.height(),g=b.width(),h=d.left,i=d.top,j=h+g,k=i+f,l=e.height()-k,m=e.width()-j,n=[[0,i,k,0,k,0,i,k],[0,0,0,h,h,j,j,j],[i,f,l,i,l,i,f,l],[h,h,h,g,g,m,m,m]],o=0;o<8;++o)a("#lightsOffOverlay"+o).css({top:n[0][o],left:n[1][o],right:0,height:n[2][o],width:n[3][o]})},n=function(b,c){var d=a(".lightsOffOverlay"),g=d.is(":visible");if(c&&!g||!c&&g){var i=!0;d[c?"fadeIn":"fadeOut"](c?e.durationLightsOff:e.durationLightsOn,function(){e.allowScrolling||h.css("overflow",c?"hidden":"auto"),i&&(i=!1,a.event.trigger(c?"lightsOff":"lightsOn",b),f=c?b:null)})}},o=function(a){l.show.apply(j[a.data.id],arguments)};a.fn.lightsOff=function(b){if(l[b]){if(k)return l[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("LightsOff must be initialized before using method "+b+".")}else{if("object"==typeof b||!b)return l.init.apply(this,arguments);a.error("Method "+b+"does not exist in lightsoff.")}}}(jQuery,window,document);